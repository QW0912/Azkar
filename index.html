<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أذكار الصباح والمساء</title>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #e0f7fa;
            text-align: center;
            direction: rtl;
            margin: 0;
            padding: 0;
            transition: background-color 0.3s, color 0.3s;
        }
        h1 {
            color: #00796b;
            margin-top: 30px;
        }
        .container {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            margin: 40px auto;
            padding: 30px;
            width: 90%;
            max-width: 400px;
        }
        button {
            font-size: 18px;
            padding: 15px;
            margin: 10px 0;
            width: 100%;
            border-radius: 10px;
            border: none;
            background-color: #00796b;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        button:hover {
            background-color: #004d40;
            transform: scale(1.05);
        }
        .athkar {
            font-size: 20px;
            color: #37474f;
            margin-top: 20px;
            line-height: 1.8;
        }
        .athkar p {
            margin-bottom: 20px;
        }
        hr {
            border: none;
            border-top: 2px solid #00796b;
            margin: 20px 0;
        }
        .progress-circle {
            position: relative;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 5px solid #4caf50;
            margin: 10px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .progress-circle .progress-text {
            position: absolute;
            font-size: 22px;
            font-weight: bold;
            color: #00796b;
        }
        .progress-circle[data-progress="1"] {
            background: conic-gradient(#4caf50 33%, #f0f7fa 33%);
        }
        .progress-circle[data-progress="2"] {
            background: conic-gradient(#4caf50 66%, #f0f7fa 66%);
        }
        .progress-circle[data-progress="3"] {
            background: conic-gradient(#4caf50 100%, #f0f7fa 100%);
        }

        /* شاشة تسجيل الدخول */
        .login-screen {
            display: none;
            text-align: center;
        }

        /* Dark Mode */
        .dark-mode {
            background-color: #000000;
            color: #ffffff;
        }
        .dark-mode button {
            background-color: #333333;
            color: white;
        }
        .dark-mode h1, .dark-mode footer a {
            color: #ffffff;
        }
        .dark-mode .progress-circle {
            border-color: #333333;
            background: #333333;
        }
        .dark-mode .progress-circle .progress-text {
            color: white;
        }

        /* المفضلة */
        .favorite {
            color: gold;
            font-size: 25px;
            cursor: pointer;
        }

        /* زر الوضع الليلي في مكان منفصل */
        .dark-mode-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #00796b;
            color: white;
            padding: 10px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .dark-mode-toggle:hover {
            background-color: #004d40;
        }

        /* السهم */
        .arrow {
            display: inline-block;
            margin-top: 10px;
            font-size: 20px;
            color: #00796b;
        }
    </style>
</head>
<body>

    <div class="login-screen" id="login-screen">
        <h1>مرحبًا بك في موقع الأذكار</h1>
        <p>أدخل الرقم التسلسلي الخاص بك:</p>
        <input type="text" id="serial-input" placeholder="الرقم التسلسلي المكون من 20 رقمًا" maxlength="20">
        <br>
        <button onclick="login()">الدخول</button>
        <p>إذا كنت جديد ولا تملك رقم تسلسلي خاص بك</p>
        <div class="arrow">⬇</div>
        <button onclick="generateSerial()">الحصول على رقم تسلسلي جديد</button>
    </div>

    <div class="container" id="main-content" style="display: none;">
        <button class="dark-mode-toggle" onclick="toggleDarkMode()">تبديل الوضع الليلي</button>

        <h1>أذكار الصباح والمساء</h1>
        <button onclick="showMorning()">أذكار الصباح</button>
        <button onclick="showEvening()">أذكار المساء</button>
        <button onclick="showRandom()">ذكر عشوائي</button>
        <button onclick="addPersonalAthkar()">إضافة ذكر شخصي</button>
        <button onclick="showFavorites()">عرض المفضلة</button>
        <div id="athkar" class="athkar"></div>
    </div>

    <footer>
        المطور: <a href="https://www.instagram.com/_w0112" target="_blank">@_w0112</a>
    </footer>

    <script>
        const favoriteAthkar = {};
        let currentSerial = '';

        window.onload = function () {
            const savedSerial = localStorage.getItem('userSerial');
            if (savedSerial) {
                currentSerial = savedSerial;
                loadFavorites();
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
            } else {
                document.getElementById('login-screen').style.display = 'block';
            }
        };

        function login() {
            const serial = document.getElementById('serial-input').value;
            if (serial.length === 20) {
                currentSerial = serial;
                localStorage.setItem('userSerial', serial);
                loadFavorites();
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
            } else {
                alert('الرجاء إدخال رقم تسلسلي مكون من 20 رقمًا.');
            }
        }

        function generateSerial() {
            const serial = 'xxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g, () => (Math.random() * 9 | 0).toString());
            currentSerial = serial;
            localStorage.setItem('userSerial', serial);
            alert(`رقمك التسلسلي: ${serial}\nصور الشاشة، لكي لا تنسى الرقم التسلسلي الخاص بك!`);
            alert("فائده الرقم التسلسلي: عند إضافه ذكر تود حفظه عندك، لن يختفي عند خروجك من الموقع وعودتك مجددًا");
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
        }

        function loadFavorites() {
            const savedFavorites = localStorage.getItem(`favorites_${currentSerial}`);
            if (savedFavorites) {
                favoriteAthkar[currentSerial] = JSON.parse(savedFavorites);
            } else {
                favoriteAthkar[currentSerial] = [];
            }
        }

        function saveFavorites() {
            localStorage.setItem(`favorites_${currentSerial}`, JSON.stringify(favoriteAthkar[currentSerial]));
        }

        function addPersonalAthkar() {
            const newAthkar = prompt('أدخل ذكرًا شخصيًا:');
            const repeatCount = parseInt(prompt('كم عدد مرات التكرار لهذا الذكر؟'));
            if (newAthkar && repeatCount > 0) {
                const personalAthkarItem = { text: newAthkar, repeat: repeatCount };
                favoriteAthkar[currentSerial].push(personalAthkarItem);
                saveFavorites();
                alert('تم إضافة الذكر الشخصي إلى المفضلة.');
            }
        }

        function showFavorites() {
            const athkarDiv = document.getElementById('athkar');
            const favorites = favoriteAthkar[currentSerial] || [];
            athkarDiv.innerHTML = favorites.map(athkar => `
                <p>${athkar.text}</p>
                <div class="progress-circle" data-repeat="${athkar.repeat}">${athkar.repeat} مرات</div>
                <hr>
            `).join('');
        }

        function showMorning() {
            const morningAthkar = [
                { text: "أصبحنا وأصبح الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير. رب أسألك خير ما في هذا اليوم وخير ما بعده، وأعوذ بك من شر ما في هذا اليوم وشر ما بعده، وأعوذ بك من الكسل وسوء الكبر، وأعوذ بك من عذاب في النار وعذاب في القبر.", repeat: 1 },
                { text: "اللهم بك أصبحنا، وبك أمسينا، وبك نحيا وبك نموت، وإليك النشور.", repeat: 1 },
                { text: "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك عليّ وأبوء بذنبي، فاغفر لي، فإنه لا يغفر الذنوب إلا أنت.", repeat: 1 },
                { text: "سبحان الله وبحمده عدد خلقه ورضا نفسه وزنة عرشه ومداد كلماته.", repeat: 3 },
                { text: "اللهم إني أصبحت أشهدك، وأشهد حملة عرشك وملائكتك وجميع خلقك أنك أنت الله لا إله إلا أنت وحدك لا شريك لك، وأن محمدًا عبدك ورسولك. (أربع مرات)", repeat: 4 },
                { text: "حسبي الله لا إله إلا هو، عليه توكلت وهو رب العرش العظيم. (سبع مرات)", repeat: 7 },
                { text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم. (ثلاث مرات)", repeat: 3 },
                { text: "اللهم صل وسلم على نبينا محمد. (عشر مرات)", repeat: 10 }
            ];
            renderAthkar(morningAthkar);
        }

        function showEvening() {
            const eveningAthkar = [
                { text: "أمسينا وأمسى الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير. رب أسألك خير ما في هذه الليلة وخير ما بعدها، وأعوذ بك من شر ما في هذه الليلة وشر ما بعدها، وأعوذ بك من الكسل وسوء الكبر، وأعوذ بك من عذاب في النار وعذاب في القبر.", repeat: 1 },
                { text: "اللهم بك أمسينا، وبك أصبحنا، وبك نحيا وبك نموت، وإليك المصير.", repeat: 1 },
                { text: "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك عليّ وأبوء بذنبي، فاغفر لي، فإنه لا يغفر الذنوب إلا أنت.", repeat: 1 },
                { text: "سبحان الله وبحمده عدد خلقه ورضا نفسه وزنة عرشه ومداد كلماته.", repeat: 3 },
                { text: "اللهم إني أمسيت أشهدك، وأشهد حملة عرشك وملائكتك وجميع خلقك أنك أنت الله لا إله إلا أنت وحدك لا شريك لك، وأن محمدًا عبدك ورسولك. (أربع مرات)", repeat: 4 },
                { text: "حسبي الله لا إله إلا هو، عليه توكلت وهو رب العرش العظيم. (سبع مرات)", repeat: 7 },
                { text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم. (ثلاث مرات)", repeat: 3 },
                { text: "اللهم صل وسلم على نبينا محمد. (عشر مرات)", repeat: 10 }
            ];
            renderAthkar(eveningAthkar);
        }

        function showRandom() {
            const randomAthkar = [
                { text: "يا حي يا قيوم، برحمتك أستغيث، أصلح لي شأني كله ولا تكلني إلى نفسي طرفة عين.", repeat: 1 },
                { text: "اللهم إني أعوذ بك من الهم والحزن، والعجز والكسل، والبخل والجبن، وضلع الدين وغلبة الرجال.", repeat: 1 },
                { text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة.", repeat: 1 },
                { text: "اللهم إني أسألك الجنة وأعوذ بك من النار.", repeat: 1 }
            ];
            renderAthkar(randomAthkar);
        }

        function renderAthkar(athkarList) {
            const athkarDiv = document.getElementById('athkar');
            athkarDiv.innerHTML = athkarList.map(athkar => `
                <p>${athkar.text}</p>
                <div class="progress-circle" data-repeat="${athkar.repeat}">${athkar.repeat} مرات</div>
                <hr>
            `).join('');
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }
    </script>
</body>
</html>