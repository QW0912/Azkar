<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أذكار الصباح والمساء والقرآن الكريم</title>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #e0f7fa;
            text-align: center;
            direction: rtl;
            margin: 0;
            padding: 0;
            transition: background-color 0.3s, color 0.3s;
        }
        h1 {
            color: #00796b;
            margin-top: 30px;
        }
        .container {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            margin: 40px auto;
            padding: 30px;
            width: 90%;
            max-width: 400px;
        }
        button {
            font-size: 18px;
            padding: 15px;
            margin: 10px 0;
            width: 100%;
            border-radius: 10px;
            border: none;
            background-color: #00796b;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        button:hover {
            background-color: #004d40;
            transform: scale(1.05);
        }
        .athkar {
            font-size: 20px;
            color: #37474f;
            margin-top: 20px;
            line-height: 1.8;
        }
        .athkar p {
            margin-bottom: 20px;
        }
        .favorite {
            color: gold;
            font-size: 25px;
            cursor: pointer;
        }
        hr {
            border: none;
            border-top: 2px solid #00796b;
            margin: 20px 0;
        }
        .quran {
            margin-top: 30px;
            text-align: center;
        }
        .surah-content {
            text-align: justify;
            font-size: 18px;
            line-height: 2;
        }

        /* شاشة تسجيل الدخول */
        .login-screen {
            text-align: center;
        }

        /* Dark Mode */
        .dark-mode {
            background-color: #000000;
            color: #ffffff;
        }
        .dark-mode button {
            background-color: #333333;
            color: white;
        }
        .dark-mode h1, .dark-mode footer a {
            color: #ffffff;
        }

        /* سهم مخصص */
        .arrow {
            display: inline-block;
            margin-top: 10px;
            font-size: 30px;
            color: #00796b;
        }

        .dark-mode-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #00796b;
            color: white;
            padding: 10px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .dark-mode-toggle:hover {
            background-color: #004d40;
        }

        /* الدائرة */
        .progress-circle {
            position: relative;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 5px solid #4caf50;
            margin: 10px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .progress-circle .progress-text {
            position: absolute;
            font-size: 22px;
            font-weight: bold;
            color: #00796b;
        }
        .progress-circle[data-progress="1"] {
            background: conic-gradient(#4caf50 33%, #f0f7fa 33%);
        }
        .progress-circle[data-progress="2"] {
            background: conic-gradient(#4caf50 66%, #f0f7fa 66%);
        }
        .progress-circle[data-progress="3"] {
            background: conic-gradient(#4caf50 100%, #f0f7fa 100%);
        }

        /* الرسالة التنبيهية */
        .coming-soon {
            color: #e74c3c;
            font-size: 16px;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="login-screen" id="login-screen">
        <h1>مرحبًا بك في موقع الأذكار</h1>
        <p>أدخل الرقم التسلسلي الخاص بك:</p>
        <input type="text" id="serial-input" placeholder="الرقم التسلسلي المكون من 20 رقمًا" maxlength="20">
        <br>
        <button onclick="login()">الدخول</button>
        <p>إذا كنت جديد ولا تملك رقم تسلسلي خاص بك</p>
        <div class="arrow">⬇</div> <!-- تم استبدال السهم بنموذج تصميم خاص -->
        <button onclick="generateSerial()">الحصول على رقم تسلسلي جديد</button>
    </div>

    <div class="container" id="main-content" style="display: none;">
        <button class="dark-mode-toggle" onclick="toggleDarkMode()">تبديل الوضع الليلي</button>

        <h1>أذكار الصباح والمساء والقرآن الكريم</h1>
        <button onclick="showMorning()">أذكار الصباح</button>
        <button onclick="showEvening()">أذكار المساء</button>
        <button onclick="showRandom()">ذكر عشوائي</button>
        <button onclick="addPersonalAthkar()">إضافة ذكر شخصي</button>
        <button onclick="showFavorites()">عرض المفضلة</button>
        <button class="surah-button" onclick="showQuran()">القرآن الكريم</button>
        <div id="athkar" class="athkar"></div>
        <div id="quran" class="quran" style="display:none;"></div>
        <div id="surah-content" class="surah-content" style="display:none;"></div>
        <div class="coming-soon">سوف يتم وضع السور المتبقية قريبًا</div>
    </div>

    <footer>
        المطور: <a href="https://www.instagram.com/_w0112" target="_blank">@_w0112</a>
    </footer>

    <script>
        const favoriteAthkar = {};
        let currentSerial = '';

        window.onload = function () {
            const savedSerial = localStorage.getItem('userSerial');
            if (savedSerial) {
                currentSerial = savedSerial;
                loadFavorites();
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
            } else {
                document.getElementById('login-screen').style.display = 'block';
            }
        };

        function login() {
            const serial = document.getElementById('serial-input').value;
            if (serial.length === 20) {
                currentSerial = serial;
                localStorage.setItem('userSerial', serial);
                loadFavorites();
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
            } else {
                alert('الرجاء إدخال رقم تسلسلي مكون من 20 رقمًا.');
            }
        }

        function generateSerial() {
            const serial = 'xxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g, () => (Math.random() * 9 | 0).toString());
            currentSerial = serial;
            localStorage.setItem('userSerial', serial);
            alert(`رقمك التسلسلي: ${serial}\nصور الشاشة، لكي لا تنسى الرقم التسلسلي الخاص بك!`);
            alert("فائده الرقم التسلسلي: عند إضافه ذكر تود حفظه عندك، لن يختفي عند خروجك من الموقع وعودتك مجددًا");
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
        }

        function loadFavorites() {
            const savedFavorites = localStorage.getItem(`favorites_${currentSerial}`);
            if (savedFavorites) {
                favoriteAthkar[currentSerial] = JSON.parse(savedFavorites);
            } else {
                favoriteAthkar[currentSerial] = [];
            }
        }

        function saveFavorites() {
            localStorage.setItem(`favorites_${currentSerial}`, JSON.stringify(favoriteAthkar[currentSerial]));
        }

        function addPersonalAthkar() {
            const newAthkar = prompt('أدخل ذكرًا شخصيًا:');
            const repeatCount = parseInt(prompt('كم عدد مرات التكرار لهذا الذكر؟'));


            if (newAthkar && repeatCount > 0) {
                const personalAthkarItem = { text: newAthkar, repeat: repeatCount };
                favoriteAthkar[currentSerial].push(personalAthkarItem);
                saveFavorites();
                alert('تم إضافة الذكر الشخصي إلى المفضلة.');
            }
        }

        function showFavorites() {
            const athkarDiv = document.getElementById('athkar');
            const favorites = favoriteAthkar[currentSerial] || [];
            athkarDiv.innerHTML = favorites.map(athkar => `
                <p>${athkar.text}</p>
                <div class="progress-circle" data-repeat="3" onclick="updateProgress(this)" data-progress="0">
                    <span class="progress-text">0/3</span>
                </div>
                <hr>
            `).join('');
        }

        function showMorning() {
            const morningAthkar = [
                { text: "أصبحنا وأصبح الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير..." },
                { text: "اللهم بك أصبحنا، وبك أمسينا، وبك نحيا وبك نموت، وإليك النشور." },
                { text: "اللهم أنت ربي لا إله إلا أنت..." },
                { text: "سبحان الله وبحمده عدد خلقه..." }
            ];
            renderAthkar(morningAthkar);
        }

        function showEvening() {
            const eveningAthkar = [
                { text: "أمسينا وأمسى الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له..." },
                { text: "اللهم بك أمسينا، وبك أصبحنا..." },
                { text: "اللهم أنت ربي لا إله إلا أنت..." },
                { text: "سبحان الله وبحمده عدد خلقه..." }
            ];
            renderAthkar(eveningAthkar);
        }

        function showRandom() {
            const randomAthkar = [
                { text: "يا حي يا قيوم، برحمتك أستغيث..." },
                { text: "اللهم إني أعوذ بك من الهم والحزن..." },
                { text: "اللهم إني أسألك العفو والعافية..." },
                { text: "اللهم إني أسألك الجنة وأعوذ بك من النار." }
            ];
            renderAthkar(randomAthkar);
        }

        function renderAthkar(athkarList) {
            const athkarDiv = document.getElementById('athkar');
            athkarDiv.innerHTML = athkarList.map(athkar => `
                <p>${athkar.text}</p>
                <div class="progress-circle" data-repeat="3" onclick="updateProgress(this)" data-progress="0">
                    <span class="progress-text">0/3</span>
                </div>
                <span class="favorite" onclick="toggleFavorite('${athkar.text}')">★</span>
                <hr>
            `).join('');
        }

        function toggleFavorite(athkarText) {
            if (favoriteAthkar[currentSerial].includes(athkarText)) {
                favoriteAthkar[currentSerial] = favoriteAthkar[currentSerial].filter(athkar => athkar !== athkarText);
            } else {
                favoriteAthkar[currentSerial].push(athkarText);
            }
            saveFavorites();
            alert('تم تعديل المفضلة.');
        }

        function updateProgress(circle) {
            let progress = parseInt(circle.getAttribute('data-progress'));
            const repeat = parseInt(circle.getAttribute('data-repeat'));

            if (progress < repeat) {
                progress++;
                circle.setAttribute('data-progress', progress);
                circle.querySelector('.progress-text').textContent = `${progress}/${repeat}`;
                
                // تحديث شكل الدائرة بناءً على التقدم
                const percentage = (progress / repeat) * 100;
                circle.style.background = `conic-gradient(#4caf50 ${percentage}%, #f0f7fa ${percentage}%)`;
            }
        }

        function showQuran() {
            // عند الضغط على زر القرآن الكريم، يظهر التنبيه التالي
            alert("مدري ليه مو راضي يضبط، والصراحه تعبت وانا احاول احل المشكله لاني حاولت كثير، المهم اصبروا لين يصير لي خلق وبإذن الله راح احاول من جديد ويشتغل معكم👍🏻");
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }
    </script>
</body>
</html>